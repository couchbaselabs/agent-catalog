<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Package Documentation &#8212; Agent Catalog 0.2.5a2.post1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=50651e91" />
    <link rel="stylesheet" type="text/css" href="_static/basic_mod.css?v=9b2032db" />
    <link rel="stylesheet" type="text/css" href="_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=7230e44a" />
    <script src="_static/documentation_options.js?v=27ccf86e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <script src="_static/js/petite-vue.js"></script>
    <link rel="icon" href="_static/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Agent Catalog Record Entries" href="catalog.html" />
    <link rel="prev" title="agentc Command Documentation" href="cli.html" /> 
  </head><body data-dark_mode_code_blocks="true">

<div id="top_nav">
    
        <div id="notification_banner" data-banner-hiding="temporary" v-show="!permanentlyHidden">
    <p v-if="visible" id="content">You are viewing documentation for a pre-GA (alpha) version of Couchbase Agent Catalog!</p>
    <a class="close" href="#" @click.prevent="toggleVisible()">[[ visible ? '&#x25B2; HIDE' : '&#x25BC; SHOW BANNER' ]]</a>
</div>

<script>
(function() {
    const topNav = document.querySelector('#top_nav')
    const notificationContent = document.querySelector('#notification_banner p#content').innerText
    const localStorageKey = 'readNotification'
    const bannerHiding = document.querySelector('#notification_banner').dataset['bannerHiding']
    const cssVariableName = '--navbarHeight'
    const rootElement = document.documentElement

    /*************************************************************************/
    // Local storage for remembering if the user has read the notification.

    function checkAlreadyRead() {
        return localStorage.getItem(localStorageKey) == notificationContent
    }

    function setRead() {
        localStorage.setItem(localStorageKey, notificationContent)
    }

    function clearRead() {
        localStorage.removeItem(localStorageKey)
    }

    const alreadyRead = checkAlreadyRead()
    const permanentlyHidden = alreadyRead && bannerHiding == 'permanent'

    /*************************************************************************/
    // Updating a CSS variable so other elements adjust to the nav bar height.

    function updateNavbarHeight() {
        // Only update it if the delta is significant. Otherwise it causes
        // unnecessary browser repaints.
        const documentStyles = getComputedStyle(rootElement)
        // We store the value in REM, so need to convert to pixels
        const currentValue = parseFloat(
            documentStyles.getPropertyValue(cssVariableName)
        ) * parseFloat(documentStyles.fontSize)

        const newValue = topNav.clientHeight

        if (newValue - 5 > currentValue) {
            console.log(`Updating ${cssVariableName} - overlapping`)
            rootElement.style.setProperty(
                cssVariableName, newValue + "px"
            );
        } else if (currentValue - newValue >= 30) {
            console.log(`Updating ${cssVariableName} - gap too large`)
            rootElement.style.setProperty(
                cssVariableName, newValue + "px"
            );
        }
    }

    /*************************************************************************/
    // After loading the page, and resizing the window, recalculate the nav bar
    // height.

    if (!permanentlyHidden) {
        // This height is approximately correct when there's a banner, so
        // shouldn't require any page reflow:
        rootElement.style.setProperty(
            '--navbarHeight', "5.5rem"
        );

        document.addEventListener("DOMContentLoaded", function() {
            updateNavbarHeight()
        });

        var interval = undefined

        window.addEventListener('resize', () => {
            if (interval) {
                clearTimeout(interval)
            }
            interval = setTimeout(() => {
                console.log("Finished resizing")
                updateNavbarHeight()
            }, 100)
        })
    }

    /*************************************************************************/

    PetiteVue.createApp({
        visible: !alreadyRead,
        permanentlyHidden: permanentlyHidden,
        bannerHiding: bannerHiding,
        $delimiters: ['[[', ']]'],
        toggleVisible() {
            this.visible = !this.visible

            if (this.visible) {
                clearRead()
            } else {
                setRead()
            }

            if (!this.visible && bannerHiding == 'permanent') {
                this.permanentlyHidden = true
            }

            // Run this after Vue has had time to update the DOM:
            setTimeout(
                updateNavbarHeight,
                0
            )
        }
    }).mount('#notification_banner')
})()
</script>
    

    <nav>
        
            
        

        <p id="toggle_sidebar">
            <a href="#" title="Toggle sidebar">|||</a>
        </p>
        <h1><a href="index.html" title="Go to homepage">Agent Catalog 0.2.5a2.post1 documentation</a></h1>

        <a id="mode_toggle" href="#" @click.prevent="handleClick" :title="mode">
    <template v-if="mode == 'light'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_light"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M67.48,18.073c1.913,-1.912 1.913,-5.018 0,-6.931c-1.912,-1.912 -5.018,-1.912 -6.931,0l-6.798,6.799c-1.912,1.912 -1.912,5.018 0,6.931c1.913,1.912 5.018,1.912 6.931,-0l6.798,-6.799Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.728,61.108c1.912,-1.913 1.912,-5.018 -0,-6.931c-1.913,-1.913 -5.019,-1.913 -6.931,-0l-6.799,6.798c-1.912,1.913 -1.912,5.019 0,6.931c1.913,1.913 5.019,1.913 6.931,0l6.799,-6.798Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.682,54.177c-1.913,-1.913 -5.018,-1.913 -6.931,-0c-1.912,1.913 -1.912,5.018 0,6.931l6.798,6.798c1.913,1.913 5.019,1.913 6.931,0c1.913,-1.912 1.913,-5.018 0,-6.931l-6.798,-6.798Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M4.901,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,-0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M18.929,11.142c-1.912,-1.912 -5.018,-1.912 -6.931,0c-1.912,1.913 -1.912,5.019 0,6.931l6.799,6.799c1.912,1.912 5.018,1.912 6.931,-0c1.912,-1.913 1.912,-5.019 -0,-6.931l-6.799,-6.799Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.108,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c-0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c-0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'dark'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_dark"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.901,2.196 -4.901,4.901c0,2.705 2.197,4.901 4.901,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.662,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.989,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.732,61.103c1.91,-1.91 1.91,-5.011 0,-6.921l-0.009,-0.01c-1.91,-1.91 -5.012,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.909,1.91 5.011,1.91 6.92,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.672,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.52,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l-0,-0.01c-0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.901,2.196 -4.901,4.901c0,2.704 2.197,4.9 4.901,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.73,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 -0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.098,34.623c-2.699,0 -4.891,2.192 -4.891,4.892l-0,0.019c-0,2.699 2.192,4.891 4.891,4.891c2.7,0 4.892,-2.192 4.892,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.892,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'darkest'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_darkest"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><path d="M39.315,23.791c8.684,-0 15.734,7.05 15.734,15.733c0,8.684 -7.05,15.734 -15.734,15.734c-8.683,0 -15.733,-7.05 -15.733,-15.734c-0,-8.683 7.05,-15.733 15.733,-15.733Zm0,4.737c6.069,0 10.997,4.927 10.997,10.996c-0,6.069 -4.928,10.996 -10.997,10.996c-6.068,0 -10.996,-4.927 -10.996,-10.996c0,-6.069 4.928,-10.996 10.996,-10.996Z" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.216,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.9,2.196 -4.9,4.901c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.666,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.99,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.737,61.103c1.909,-1.91 1.909,-5.011 -0,-6.921l-0.01,-0.01c-1.91,-1.91 -5.011,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.91,1.91 5.011,1.91 6.921,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.676,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.524,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l0,-0.01c0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.216,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901c-0,2.704 2.196,4.9 4.9,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.734,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.103,34.623c-2.7,0 -4.892,2.192 -4.892,4.892l-0,0.019c-0,2.699 2.192,4.891 4.892,4.891c2.699,0 4.891,-2.192 4.891,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.891,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>
</a>

<script>
(function() {
    const LOCAL_STORAGE_KEY = 'piccoloThemeMode'

    var initialMode = localStorage.getItem(LOCAL_STORAGE_KEY)

    if (initialMode) {
        // Make sure the value in local storage is valid
        if (['light', 'dark', 'darkest'].indexOf(initialMode) == -1) {
            initialMode = 'light'
            localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
        }
    } else {
        // Check if the client prefers dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initialMode = 'dark'
        } else {
            initialMode = 'light'
        }
        localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
    }

    document.documentElement.dataset.mode = initialMode

    PetiteVue.createApp({
        'mode': initialMode,
        handleClick() {
            let currentMode = this.mode

            if (currentMode == 'light') {
                this.mode = 'dark'
            } else if (currentMode == 'dark') {
                this.mode = 'darkest'
            } else if (currentMode == 'darkest') {
                this.mode = 'light'
            }

            document.documentElement.dataset.mode = this.mode
            localStorage.setItem(LOCAL_STORAGE_KEY, this.mode)

            console.log(this.mode)
        }
    }).mount('#mode_toggle')
})()
</script>
            <p class="mobile_search_link">
                <a href="search.html" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 64" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2">
                        <path d="M14.873 40.009c-2.315-3.943-3.642-8.532-3.642-13.429C11.231 11.91 23.141 0 37.811 0s26.58 11.91 26.58 26.58-11.91 26.58-26.58 26.58a26.44 26.44 0 0 1-14.277-4.161L9.739 62.794a3.12 3.12 0 0 1-4.413 0L.913 58.382c-1.217-1.218-1.217-3.196 0-4.413l13.96-13.96zM37.811 8.054c10.225 0 18.526 8.301 18.526 18.526s-8.301 18.526-18.526 18.526-18.526-8.301-18.526-18.526S27.586 8.054 37.811 8.054z" fill="#fff" />
                    </svg>
                </a>
            </p>
        

        <div class="searchbox_wrapper">
            
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
    </nav>
</div>

    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cli.html">agentc CLI Tool</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Package Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Tool / Prompt Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Spans and Log Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Log Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help / Questions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
</ul>

        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="package-documentation">
<h1>Package Documentation<a class="headerlink" href="#package-documentation" title="Link to this heading">¶</a></h1>
<section id="agentc-package">
<h2><cite>agentc</cite> Package<a class="headerlink" href="#agentc-package" title="Link to this heading">¶</a></h2>
<dl class="py class pydantic_settings">
<dt class="sig sig-object py" id="agentc.catalog.Catalog">
<em class="property"><span class="pre">pydantic</span> <span class="pre">settings</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc.catalog.</span></span><span class="sig-name descname"><span class="pre">Catalog</span></span><a class="reference internal" href="_modules/agentc_core/catalog/catalog.html#Catalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.catalog.Catalog" title="Link to this definition">¶</a></dt>
<dd><p>A provider of indexed &quot;agent building blocks&quot; (e.g., tools, prompts, spans...).</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">A <a class="reference internal" href="#agentc.catalog.Catalog" title="agentc.catalog.Catalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">Catalog</span></code></a> instance can be configured in three ways (listed in order of precedence):</p>
<ol class="arabic simple">
<li><p class="sd-card-text">Directly (as arguments to the constructor).</p></li>
<li><p class="sd-card-text">Via the environment (though environment variables).</p></li>
<li><p class="sd-card-text">Via a <code class="file docutils literal notranslate"><span class="pre">.env</span></code> configuration file.</p></li>
</ol>
<p class="sd-card-text">In most cases, you'll want to configure your catalog via a <code class="file docutils literal notranslate"><span class="pre">.env</span></code> file.
This style of configuration means you can instantiate a <a class="reference internal" href="#agentc.catalog.Catalog" title="agentc.catalog.Catalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">Catalog</span></code></a> instance as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
</pre></div>
</div>
<p class="sd-card-text">Some custom configurations can only be specified via the constructor (e.g., <code class="docutils literal notranslate"><span class="pre">secrets</span></code>).
For example, if your secrets are managed by some external service (defined below as <code class="docutils literal notranslate"><span class="pre">my_secrets_manager</span></code>),
you can specify them as such:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">(</span><span class="n">secrets</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;CB_CONN_STRING&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;CB_CONN_STRING&quot;</span><span class="p">),</span>
    <span class="s2">&quot;CB_USERNAME&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;CB_USERNAME&quot;</span><span class="p">),</span>
    <span class="s2">&quot;CB_PASSWORD&quot;</span><span class="p">:</span> <span class="n">my_secrets_manager</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;THE_CB_PASSWORD&quot;</span><span class="p">),</span>
    <span class="s2">&quot;CB_CERTIFICATE&quot;</span><span class="p">:</span> <span class="n">my_secrets_manager</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;PATH_TO_CERT&quot;</span><span class="p">),</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="agentc.catalog.Catalog.Span">
<span class="sig-name descname"><span class="pre">Span</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/catalog/catalog.html#Catalog.Span"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.catalog.Catalog.Span" title="Link to this definition">¶</a></dt>
<dd><p>A factory method to initialize a <a class="reference internal" href="#agentc.catalog.Catalog.Span" title="agentc.catalog.Catalog.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> (more specifically, a <code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalSpan</span></code>) instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) -- Name to bind to each message logged within this span.</p></li>
<li><p><strong>session</strong> (<em>str</em>) -- The run that this tree of spans is associated with. By default, this is a UUID.</p></li>
<li><p><strong>state</strong> (<em>Any</em>) -- A JSON-serializable object that will be logged on entering and exiting this span.</p></li>
<li><p><strong>iterable</strong> (<em>bool</em>) -- Whether this new span should be iterable. By default, this is <code class="code highlight python docutils literal highlight-python"><span class="kc">False</span></code>.</p></li>
<li><p><strong>blacklist</strong> (<em>set</em><em>[</em><a class="reference internal" href="log.html#agentc_core.activity.models.content.Kind" title="agentc_core.activity.models.content.Kind"><em>Kind</em></a><em>]</em>) -- A set of content types to skip logging. By default, there is no blacklist.</p></li>
<li><p><strong>kwargs</strong> -- Additional keyword arguments to pass to the Span constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span">Span</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.catalog.Catalog.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'__LATEST__'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/catalog/catalog.html#Catalog.find"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.catalog.Catalog.find" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of tools or prompts based on the specified search criteria.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Method Description</div>
<p class="sd-card-text">This method is meant to act as the programmatic equivalent of the <code class="code docutils literal notranslate"><span class="pre">agentc</span> <span class="pre">find</span></code> command.
Whether (or not) the results are fetched from the local catalog <em>or</em> the remote catalog depends on the
configuration of this <code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_core.catalog.Catalog</span></code> instance.</p>
<p class="sd-card-text">For example, to find a tool named &quot;get_sentiment_of_text&quot;, you would author:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;tool&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;get_sentiment_of_text&quot;</span><span class="p">)</span>
<span class="n">sentiment_score</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="s2">&quot;I love this product!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sd-card-text">To find a prompt named &quot;summarize_article_instructions&quot;, you would author:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;summarize_article_instructions&quot;</span><span class="p">)</span>
<span class="n">prompt_for_agent</span> <span class="o">=</span> <span class="n">summarize_article_instructions</span><span class="o">.</span><span class="n">content</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> (<em>Literal</em><em>[</em><em>'tool'</em><em>, </em><em>'prompt'</em><em>]</em>) -- The type of item to search for, either 'tool' or 'prompt'.</p></li>
<li><p><strong>query</strong> (<em>str</em>) -- A query string (natural language) to search the catalog with.</p></li>
<li><p><strong>name</strong> (<em>str</em>) -- The specific name of the catalog entry to search for.</p></li>
<li><p><strong>annotations</strong> (<em>str</em>) -- An annotation query string in the form of <code class="docutils literal notranslate"><span class="pre">KEY=&quot;VALUE&quot;</span> <span class="pre">(AND|OR</span> <span class="pre">KEY=&quot;VALUE&quot;)*</span></code>.</p></li>
<li><p><strong>catalog_id</strong> (<em>str</em>) -- The snapshot version to find the tools for. By default, we use the latest snapshot.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) -- The maximum number of results to return (ignored if name is specified).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>One of the following:</p>
<ul class="simple">
<li><p><code class="code highlight python docutils literal highlight-python"><span class="kc">None</span></code> if no results are found by name.</p></li>
<li><p>&quot;tools&quot; if <cite>kind</cite> is &quot;tool&quot; (see <a class="reference internal" href="#agentc.catalog.Catalog.find_tools" title="agentc.catalog.Catalog.find_tools"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_tools()</span></code></a> for details).</p></li>
<li><p>&quot;prompts&quot; if <cite>kind</cite> is &quot;prompt&quot; (see <a class="reference internal" href="#agentc.catalog.Catalog.find_prompts" title="agentc.catalog.Catalog.find_prompts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_prompts()</span></code></a> for details).</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<em>ToolResult</em>] | list[<em>PromptResult</em>] | <em>ToolResult</em> | <em>PromptResult</em> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.catalog.Catalog.find_prompts">
<span class="sig-name descname"><span class="pre">find_prompts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'__LATEST__'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/catalog/catalog.html#Catalog.find_prompts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.catalog.Catalog.find_prompts" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of prompts based on the specified search criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) -- A query string (natural language) to search the catalog with.</p></li>
<li><p><strong>name</strong> (<em>str</em>) -- The specific name of the catalog entry to search for.</p></li>
<li><p><strong>annotations</strong> (<em>str</em>) -- An annotation query string in the form of <code class="docutils literal notranslate"><span class="pre">KEY=&quot;VALUE&quot;</span> <span class="pre">(AND|OR</span> <span class="pre">KEY=&quot;VALUE&quot;)*</span></code>.</p></li>
<li><p><strong>catalog_id</strong> (<em>str</em>) -- The snapshot version to find the tools for. By default, we use the latest snapshot.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) -- The maximum number of results to return (ignored if name is specified).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Prompt</span></code> instances, with the following attributes:</p>
<ol class="arabic simple">
<li><p><strong>content</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code> | <code class="docutils literal notranslate"><span class="pre">dict</span></code>): The content to be served to the model.</p></li>
<li><p><strong>tools</strong> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): The list containing the tool functions associated with prompt.</p></li>
<li><p><strong>output</strong> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): The output type of the prompt, if it exists.</p></li>
<li><p><strong>meta</strong> (<code class="xref py py-type docutils literal notranslate"><span class="pre">RecordDescriptor</span></code>): The metadata associated with the prompt.</p></li>
</ol>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<em>PromptResult</em>] | <em>PromptResult</em> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.catalog.Catalog.find_tools">
<span class="sig-name descname"><span class="pre">find_tools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'__LATEST__'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/catalog/catalog.html#Catalog.find_tools"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.catalog.Catalog.find_tools" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of tools based on the specified search criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) -- A query string (natural language) to search the catalog with.</p></li>
<li><p><strong>name</strong> (<em>str</em>) -- The specific name of the catalog entry to search for.</p></li>
<li><p><strong>annotations</strong> (<em>str</em>) -- An annotation query string in the form of <code class="docutils literal notranslate"><span class="pre">KEY=&quot;VALUE&quot;</span> <span class="pre">(AND|OR</span> <span class="pre">KEY=&quot;VALUE&quot;)*</span></code>.</p></li>
<li><p><strong>catalog_id</strong> (<em>str</em>) -- The snapshot version to find the tools for. By default, we use the latest snapshot.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) -- The maximum number of results to return (ignored if name is specified).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>By default, a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Tool</span></code> instances with the following attributes:</p>
<ol class="arabic simple">
<li><p><strong>func</strong> (<code class="docutils literal notranslate"><span class="pre">typing.Callable</span></code>): A Python callable representing the function.</p></li>
<li><p><strong>meta</strong> (<code class="xref py py-type docutils literal notranslate"><span class="pre">RecordDescriptor</span></code>): The metadata associated with the tool.</p></li>
<li><p><strong>input</strong> (<code class="xref py py-type docutils literal notranslate"><span class="pre">dict</span></code>): The argument schema (in JSON schema) associated with the tool.</p></li>
</ol>
<p>If a <code class="docutils literal notranslate"><span class="pre">tool_decorator</span></code> is present, this method will return a list of objects decorated accordingly.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<em>ToolResult</em>] | <em>ToolResult</em> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="agentc.catalog.Catalog.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">VersionDescriptor</span></em><a class="headerlink" href="#agentc.catalog.Catalog.version" title="Link to this definition">¶</a></dt>
<dd><p>The version of the catalog currently being served (i.e., the latest version).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An <code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_core.version.VersionDescriptor</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="agentc.span.Span">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc.span.</span></span><span class="sig-name descname"><span class="pre">Span</span></span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span" title="Link to this definition">¶</a></dt>
<dd><p>A structured logging context for agent activity.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">A <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> instance belongs to a tree of other <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> instances, whose root is a
<code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalSpan</span></code> instance that is constructed using the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Catalog.Span()</span></code> method.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p class="sd-card-text">Spans should never be created directly (via constructor), as logs generated by the span must always be
associated with a catalog version and some application structure.</p>
</div>
<p class="sd-card-text">Below we illustrate how a tree of <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> instances is created:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="p">)</span>
<span class="n">child_1_span</span> <span class="o">=</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;child_1&quot;</span><span class="p">)</span>
<span class="n">child_2_span</span> <span class="o">=</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;child_2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sd-card-text">In practice, you'll likely use different spans for different agents and/or different tasks.
Below we give a small LangGraph example using spans for different agents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.graph</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flight_planner&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">front_desk_agent</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;front_desk_agent&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">front_desk_span</span><span class="p">:</span>
        <span class="o">...</span>

<span class="k">def</span><span class="w"> </span><span class="nf">route_finding_agent</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;route_finding_agent&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">route_finding_span</span><span class="p">:</span>
        <span class="o">...</span>

<span class="n">workflow</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">StateGraph</span><span class="p">()</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;front_desk_agent&quot;</span><span class="p">,</span> <span class="n">front_desk_agent</span><span class="p">)</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;route_finding_agent&quot;</span><span class="p">,</span> <span class="n">route_finding_agent</span><span class="p">)</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">set_entry_point</span><span class="p">(</span><span class="s2">&quot;front_desk_agent&quot;</span><span class="p">)</span>
<span class="n">workflow</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;front_desk_agent&quot;</span><span class="p">,</span> <span class="s2">&quot;route_finding_agent&quot;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">blacklist</span> <span class="pre">(set[agentc_core.activity.models.content.Kind])</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">iterable</span> <span class="pre">(bool</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">kwargs</span> <span class="pre">(dict[str,</span> <span class="pre">Any]</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">logger</span> <span class="pre">(Callable[[...],</span> <span class="pre">agentc_core.activity.models.log.Log])</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span> <span class="pre">(str)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">parent</span> <span class="pre">(agentc_core.activity.span.Span)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">state</span> <span class="pre">(Any)</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.blacklist">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">blacklist</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="log.html#agentc_core.activity.models.content.Kind" title="agentc_core.activity.models.content.Kind"><span class="pre">Kind</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Optional]</span></em><a class="headerlink" href="#agentc.span.Span.blacklist" title="Link to this definition">¶</a></dt>
<dd><p>List of content types to filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_initialize_iterable_logger</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.iterable">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">iterable</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#agentc.span.Span.iterable" title="Link to this definition">¶</a></dt>
<dd><p>Flag to indicate whether or not this span should be iterable.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_initialize_iterable_logger</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.kwargs">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc.span.Span.kwargs" title="Link to this definition">¶</a></dt>
<dd><p>Annotations to apply to all messages logged within this span.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_initialize_iterable_logger</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#agentc.span.Span.name" title="Link to this definition">¶</a></dt>
<dd><p>Name to bind to each message logged within this span.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_initialize_iterable_logger</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.parent">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><span class="pre">Span</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc.span.Span.parent" title="Link to this definition">¶</a></dt>
<dd><p>Parent span of this span (i.e., the span that had <a class="reference internal" href="#agentc.span.Span.new" title="agentc.span.Span.new"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new()</span></code></a> called on it).</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_initialize_iterable_logger</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.state">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc.span.Span.state" title="Link to this definition">¶</a></dt>
<dd><p>A JSON-serializable object that will be logged on entering and exiting this span.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_initialize_iterable_logger</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="agentc.span.Span.Identifier">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Identifier</span></span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span.Identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span.Identifier" title="Link to this definition">¶</a></dt>
<dd><p>The unique identifier for a <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a>.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">A <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> is uniquely identified by two parts:</p>
<ol class="arabic simple">
<li><p class="sd-card-text">an application-defined multipart name and...</p></li>
<li><p class="sd-card-text">a session identifier unique to each run of the application.</p></li>
</ol>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span> <span class="pre">(list[str])</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">session</span> <span class="pre">(str)</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.Identifier.name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#agentc.span.Span.Identifier.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a>.</p>
<p>Names are built up from the root of the span tree to the leaf, thus the first element of <a class="reference internal" href="#agentc.span.Span.Identifier.name" title="agentc.span.Span.Identifier.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> is the
name of the root and the last element is the name of the current span (i.e., the leaf).</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc.span.Span.Identifier.session">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="headerlink" href="#agentc.span.Span.Identifier.session" title="Link to this definition">¶</a></dt>
<dd><p>The session identifier of the <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a>.</p>
<p>Sessions must be unique to each run of the application.
By default, we generate these as UUIDs (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">GlobalSpan.session</span></code>).</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.span.Span.enter">
<span class="sig-name descname"><span class="pre">enter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span.enter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span.enter" title="Link to this definition">¶</a></dt>
<dd><p>Record a <code class="xref py py-class docutils literal notranslate"><span class="pre">BeginContent</span></code> log entry for this span.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Method Description</div>
<p class="sd-card-text">The <a class="reference internal" href="#agentc.span.Span.enter" title="agentc.span.Span.enter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enter()</span></code></a> method is to denote the start of the span (optionally logging the incoming state if
specified).
This method is also called when entering the span using the <code class="code highlight python docutils literal highlight-python"><span class="k">with</span></code> statement.
In the example below, <a class="reference internal" href="#agentc.span.Span.enter" title="agentc.span.Span.enter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enter()</span></code></a> is called (implicitly).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">incoming_state</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;flights&quot;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="k">with</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flight_planner&quot;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">incoming_state</span><span class="p">)</span> <span class="k">as</span> <span class="n">span</span><span class="p">:</span>
    <span class="n">flight_planner_implementation</span><span class="p">()</span>
</pre></div>
</div>
<p class="sd-card-text">On entering the context, one log is generated possessing the content below:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;begin&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;flights&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Self</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.span.Span.exit">
<span class="sig-name descname"><span class="pre">exit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span.exit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span.exit" title="Link to this definition">¶</a></dt>
<dd><p>Record a <code class="xref py py-class docutils literal notranslate"><span class="pre">EndContent</span></code> log entry for this span.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Method Description</div>
<p class="sd-card-text">The <a class="reference internal" href="#agentc.span.Span.exit" title="agentc.span.Span.exit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exit()</span></code></a> method is to denote the end of the span (optionally logging the outgoing state if
specified).
This method is also called when exiting the span using the <code class="code highlight python docutils literal highlight-python"><span class="k">with</span></code> statement <em>successfully</em>.
In the example below, <a class="reference internal" href="#agentc.span.Span.exit" title="agentc.span.Span.exit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exit()</span></code></a> is called (implicitly).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">incoming_state</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;flights&quot;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="k">with</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flight_planner&quot;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">incoming_state</span><span class="p">)</span> <span class="k">as</span> <span class="n">span</span><span class="p">:</span>
    <span class="o">...</span> <span class="o">=</span> <span class="n">flight_planner_implementation</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="n">incoming_state</span><span class="p">[</span><span class="s2">&quot;flights&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;flight_number&quot;</span><span class="p">:</span> <span class="s2">&quot;AA123&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;on_time&quot;</span><span class="p">}]</span>
</pre></div>
</div>
<p class="sd-card-text">On exiting the context, one log is generated possessing the content below:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;end&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;flights&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;flight_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AA123&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;on_time&quot;</span><span class="p">}]}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="code highlight python docutils literal highlight-python"><span class="n">state</span></code> of the span must be JSON-serializable <strong>and</strong> must be mutated in-place.
If you are working with immutable state objects, you must set the <a class="reference internal" href="#agentc.span.Span.state" title="agentc.span.Span.state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">state</span></code></a> attribute before exiting
the span (i.e., before the <code class="code highlight python docutils literal highlight-python"><span class="k">with</span></code> statement exits or with <a class="reference internal" href="#agentc.span.Span.exit" title="agentc.span.Span.exit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exit()</span></code></a> explicitly).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">immutable_incoming_state</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;flights&quot;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="k">with</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flight_planner&quot;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">incoming_state</span><span class="p">)</span> <span class="k">as</span> <span class="n">span</span><span class="p">:</span>
    <span class="o">...</span> <span class="o">=</span> <span class="n">flight_planner_implementation</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="n">span</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;flights&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;flight_number&quot;</span><span class="p">:</span> <span class="s2">&quot;AA123&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;on_time&quot;</span><span class="p">}]}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.span.Span.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span.log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span.log" title="Link to this definition">¶</a></dt>
<dd><p>Accept some content (with optional annotations specified by <code class="code highlight python docutils literal highlight-python"><span class="n">kwargs</span></code>) and generate a
corresponding log entry.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Method Description</div>
<p class="sd-card-text">The heart of the <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> class is the <a class="reference internal" href="#agentc.span.Span.log" title="agentc.span.Span.log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log()</span></code></a> method.
This method is used to log events that occur within the span.
Users can capture events that occur in popular frameworks like LangChain and LlamaIndex using our helper
packages (see <code class="xref py py-mod docutils literal notranslate"><span class="pre">agentc_langchain</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">agentc_langgraph</span></code>, and <code class="xref py py-mod docutils literal notranslate"><span class="pre">agentc_llamaindex</span></code>) but
must use those packages in conjunction with this <a class="reference internal" href="#agentc.span.Span.log" title="agentc.span.Span.log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log()</span></code></a> method to capture the full breadth of their
application's activity.
See <a class="reference external" href="log.html">here</a> for a list of all available log content types.</p>
<p class="sd-card-text">Users can also use Python's <code class="docutils literal notranslate"><span class="pre">[]</span></code> syntax to write arbitrary JSON-serializable content as a key-value
(<code class="xref py py-class docutils literal notranslate"><span class="pre">KeyValueContent</span></code>) pair.
This is useful for logging arbitrary data like metrics during evaluations.
In the example below, we illustrate an example of a system-wide evaluation suite that uses this <code class="docutils literal notranslate"><span class="pre">[]</span></code>
syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">my_agent_app</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">my_output_evaluator</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">evaluation_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;evaluation_suite&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;my-evaluation-suite.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fp</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">evaluation_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;evaluation</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">span</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">my_agent_app</span><span class="p">(</span><span class="n">span</span><span class="p">)</span>
            <span class="n">span</span><span class="p">[</span><span class="s2">&quot;positive_sentiment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">my_output_evaluator</span><span class="o">.</span><span class="n">positive</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="n">span</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
                <span class="n">content</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;key-value&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;negative_sentiment&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">my_output_evaluator</span><span class="o">.</span><span class="n">negative</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
                    <span class="p">},</span>
                <span class="n">alpha</span><span class="o">=</span><span class="s2">&quot;SDGD&quot;</span>
            <span class="p">)</span>
</pre></div>
</div>
<p class="sd-card-text">All keywords passed to the <a class="reference internal" href="#agentc.span.Span.log" title="agentc.span.Span.log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log()</span></code></a> method will be applied as annotations to the log entry.
In the example above, the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> annotation is applied only to the second log entry.
For span-wide annotations, use the <a class="reference internal" href="#agentc.span.Span.kwargs" title="agentc.span.Span.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">kwargs</span></code></a> attribute on <a class="reference internal" href="#agentc.span.Span.new" title="agentc.span.Span.new"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new()</span></code></a>.</p>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="log.html#agentc_core.activity.models.content.SystemContent" title="agentc_core.activity.models.content.SystemContent"><em>SystemContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.ToolCallContent" title="agentc_core.activity.models.content.ToolCallContent"><em>ToolCallContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.ToolResultContent" title="agentc_core.activity.models.content.ToolResultContent"><em>ToolResultContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.ChatCompletionContent" title="agentc_core.activity.models.content.ChatCompletionContent"><em>ChatCompletionContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.RequestHeaderContent" title="agentc_core.activity.models.content.RequestHeaderContent"><em>RequestHeaderContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.UserContent" title="agentc_core.activity.models.content.UserContent"><em>UserContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.AssistantContent" title="agentc_core.activity.models.content.AssistantContent"><em>AssistantContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.BeginContent" title="agentc_core.activity.models.content.BeginContent"><em>BeginContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.EndContent" title="agentc_core.activity.models.content.EndContent"><em>EndContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.EdgeContent" title="agentc_core.activity.models.content.EdgeContent"><em>EdgeContent</em></a><em> | </em><a class="reference internal" href="log.html#agentc_core.activity.models.content.KeyValueContent" title="agentc_core.activity.models.content.KeyValueContent"><em>KeyValueContent</em></a>) -- The content to log.</p></li>
<li><p><strong>kwargs</strong> -- Additional annotations to apply to the log.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.span.Span.logs">
<span class="sig-name descname"><span class="pre">logs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span.logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span.logs" title="Link to this definition">¶</a></dt>
<dd><p>Return the logs generated by the tree of <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> nodes rooted from this <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> instance.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Method Description</div>
<p class="sd-card-text">The <a class="reference internal" href="#agentc.span.Span.logs" title="agentc.span.Span.logs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">logs()</span></code></a> method returns an iterable of all logs generated within the span.
This method is also called (implicitly) when iterating over the span (e.g., using a <code class="code highlight python docutils literal highlight-python"><span class="k">for</span></code> loop).
To use this method, you must set the <a class="reference internal" href="#agentc.span.Span.iterable" title="agentc.span.Span.iterable"><code class="xref py py-attr docutils literal notranslate"><span class="pre">iterable</span></code></a> attribute to True when instantiating the span:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flight_planner&quot;</span><span class="p">,</span> <span class="n">iterable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">log</span> <span class="ow">in</span> <span class="n">span</span><span class="p">:</span>
    <span class="k">match</span> <span class="n">log</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">kind</span><span class="p">:</span>
        <span class="k">case</span> <span class="s2">&quot;begin&quot;</span><span class="p">:</span>
            <span class="o">...</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Generally, this method should only be used for debugging purposes.
This method will keep <strong>all</strong> logs generated by the span in memory.
To perform efficient aggregate analysis of your logs, consider querying the <code class="docutils literal notranslate"><span class="pre">agent_activity.logs</span></code>
collection in your Couchbase cluster using SQL++ instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Iterable</em>[<a class="reference internal" href="log.html#agentc_core.activity.models.log.Log" title="agentc_core.activity.models.log.Log"><em>Log</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc.span.Span.new">
<span class="sig-name descname"><span class="pre">new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_core/activity/span.html#Span.new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc.span.Span.new" title="Link to this definition">¶</a></dt>
<dd><p>Create a new span under the current <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a>.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Method Description</div>
<p class="sd-card-text">Spans require a name and a session (see <a class="reference internal" href="#agentc.span.Span.identifier" title="agentc.span.Span.identifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">identifier</span></code></a>).
Aside from <a class="reference internal" href="#agentc.span.Span.name" title="agentc.span.Span.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>, <a class="reference internal" href="#agentc.span.Span.state" title="agentc.span.Span.state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">state</span></code></a>, and <a class="reference internal" href="#agentc.span.Span.iterable" title="agentc.span.Span.iterable"><code class="xref py py-attr docutils literal notranslate"><span class="pre">iterable</span></code></a>, you can also pass additional keywords
that will be applied as annotations to each <a class="reference internal" href="#agentc.span.Span.log" title="agentc.span.Span.log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log()</span></code></a> call within a span.
As an example, the following code illustrates the use of <a class="reference internal" href="#agentc.span.Span.kwargs" title="agentc.span.Span.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">kwargs</span></code></a> to add a span-wide &quot;alpha&quot;
annotation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flight_planner&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;find_airports_task&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="s2">&quot;SDGD&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">child_span</span><span class="p">:</span>
    <span class="n">child_span</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">agentc</span><span class="o">.</span><span class="n">span</span><span class="o">.</span><span class="n">UserContent</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">,</span> <span class="s2">&quot;beta&quot;</span><span class="p">:</span> <span class="s2">&quot;412d&quot;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="simple">
<dt>The example code above will generate the three logs below (for brevity, we only show the <code class="docutils literal notranslate"><span class="pre">content</span></code> and</dt><dd><p class="sd-card-text"><code class="docutils literal notranslate"><span class="pre">annotations</span></code> fields):</p>
</dd>
</dl>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;begin&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nt">&quot;annotations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;alpha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SDGD&quot;</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">{</span><span class="w"> </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello, world!&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;annotations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;alpha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SDGD&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;beta&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;412d&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">{</span><span class="w"> </span><span class="nt">&quot;content&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;end&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nt">&quot;annotations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;alpha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SDGD&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) -- The name of the span.</p></li>
<li><p><strong>state</strong> (<em>Any</em>) -- The starting state of the span. This will be recorded upon entering and exiting the span.</p></li>
<li><p><strong>iterable</strong> (<em>bool</em>) -- Whether this new span should be iterable. By default, this is <code class="code highlight python docutils literal highlight-python"><span class="kc">False</span></code>.</p></li>
<li><p><strong>blacklist</strong> (<em>set</em><em>[</em><a class="reference internal" href="log.html#agentc_core.activity.models.content.Kind" title="agentc_core.activity.models.content.Kind"><em>Kind</em></a><em>]</em>) -- A set of content types to skip logging. By default, there is no blacklist.</p></li>
<li><p><strong>kwargs</strong> -- Additional annotations to apply to the span.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new <a class="reference internal" href="#agentc.span.Span" title="agentc.span.Span"><code class="xref py py-class docutils literal notranslate"><span class="pre">Span</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#agentc.span.Span" title="agentc_core.activity.span.Span"><em>Span</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="agentc.span.Span.identifier">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">identifier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#agentc.span.Span.Identifier" title="agentc_core.activity.span.Span.Identifier"><span class="pre">Identifier</span></a></em><a class="headerlink" href="#agentc.span.Span.identifier" title="Link to this definition">¶</a></dt>
<dd><p>A unique identifier for this span.</p>
</dd></dl>

</dd></dl>

</section>
<section id="integration-packages">
<h2>Integration Packages<a class="headerlink" href="#integration-packages" title="Link to this heading">¶</a></h2>
<section id="langchain">
<h3>LangChain<a class="headerlink" href="#langchain" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="agentc_langchain.chat.Callback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langchain.chat.</span></span><span class="sig-name descname"><span class="pre">Callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">span</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tools</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langchain/chat/chat.html#Callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langchain.chat.Callback" title="Link to this definition">¶</a></dt>
<dd><p>A callback that will log all LLM calls using the given span as the root.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">This class is a callback that will log all LLM calls using the given span as the root.
This class will record all messages used to generated <code class="xref py py-class docutils literal notranslate"><span class="pre">ChatCompletionContent</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">ToolCallContent</span></code>.
<code class="xref py py-class docutils literal notranslate"><span class="pre">ToolResultContent</span></code> is <em>not</em> logged by this class, as it is not generated by a
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseChatModel</span></code> instance.</p>
<p class="sd-card-text">Below, we illustrate a minimal example of how to use this class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.messages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langchain.chat</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="c1"># Create a span to bind to the chat model messages.</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root_span&quot;</span><span class="p">)</span>

<span class="c1"># Create a chat model.</span>
<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># Create a callback with the appropriate span, and attach it to the chat model.</span>
<span class="n">my_agent_span</span> <span class="o">=</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_agent&quot;</span><span class="p">)</span>
<span class="n">callback</span> <span class="o">=</span> <span class="n">agentc_langchain</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">Callback</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="n">my_agent_span</span><span class="p">)</span>
<span class="n">chat_model</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[</span>
    <span class="n">langchain_core</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">SystemMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
<p class="sd-card-text">To record the exact tools and output used by the chat model, you can pass in the tools and output to the
<a class="reference internal" href="#agentc_langchain.chat.Callback" title="agentc_langchain.chat.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langchain.chat.Callback</span></code></a> constructor.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.messages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.tools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langchain.chat</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="c1"># Create a span to bind to the chat model messages.</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root_span&quot;</span><span class="p">)</span>

<span class="c1"># Create a chat model.</span>
<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># Grab the correct tools and output from the catalog.</span>
<span class="n">my_agent_prompt</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_agent&quot;</span><span class="p">)</span>
<span class="n">my_agent_tools</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">langchain_core</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">StructuredTool</span><span class="o">.</span><span class="n">from_function</span><span class="p">(</span><span class="n">tool</span><span class="o">.</span><span class="n">func</span><span class="p">)</span> <span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">my_agent_prompt</span><span class="o">.</span><span class="n">tools</span>
<span class="p">]</span>
<span class="n">my_agent_output</span> <span class="o">=</span> <span class="n">my_agent_prompt</span><span class="o">.</span><span class="n">output</span>

<span class="c1"># Create a callback with the appropriate span, tools, and output, and attach it to the chat model.</span>
<span class="n">my_agent_span</span> <span class="o">=</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_agent&quot;</span><span class="p">)</span>
<span class="n">callback</span> <span class="o">=</span> <span class="n">agentc_langchain</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">Callback</span><span class="p">(</span>
    <span class="n">span</span><span class="o">=</span><span class="n">my_agent_span</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="n">my_agent_tools</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="n">my_agent_output</span>
<span class="p">)</span>
<span class="n">chat_model</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">chat_model</span><span class="o">.</span><span class="n">with_structured_output</span><span class="p">(</span><span class="n">my_agent_output</span><span class="p">)</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[</span>
    <span class="n">langchain_core</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">SystemMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">my_agent_prompt</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>span</strong> (<a class="reference internal" href="#agentc.span.Span" title="agentc_core.activity.span.Span"><em>Span</em></a>)</p></li>
<li><p><strong>tools</strong> (<em>list</em><em>[</em><em>Tool</em><em>]</em>)</p></li>
<li><p><strong>output</strong> (<em>tuple</em><em> | </em><em>dict</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-agentc_langchain.cache">
<dt class="sig sig-object py" id="agentc_langchain.cache.cache">
<span class="sig-prename descclassname"><span class="pre">agentc_langchain.cache.</span></span><span class="sig-name descname"><span class="pre">cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chat_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langchain/cache/cache.html#cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langchain.cache.cache" title="Link to this definition">¶</a></dt>
<dd><p>A function to attach a Couchbase-backed exact or semantic cache to a ChatModel.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Function Description</div>
<p class="sd-card-text">This function is used to set the <code class="docutils literal notranslate"><span class="pre">.cache</span></code> property of LangChain <code class="docutils literal notranslate"><span class="pre">ChatModel</span></code> instances.
For all options related to this Couchbase-backed cache, see <a class="reference internal" href="#agentc_langchain.cache.CacheOptions" title="agentc_langchain.cache.CacheOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">CacheOptions</span></code></a>.</p>
<p class="sd-card-text">Below, we illustrate a minimal working example of how to use this function to store and retrieve LLM responses
via exact prompt matching:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langchain.cache</span>

<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">)</span>
<span class="n">caching_chat_model</span> <span class="o">=</span> <span class="n">agentc_langchain</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span>
    <span class="n">chat_model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;exact&quot;</span><span class="p">,</span>
    <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Response #2 is served from the cache.</span>
<span class="n">response_1</span> <span class="o">=</span> <span class="n">caching_chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;Hello there!&quot;</span><span class="p">)</span>
<span class="n">response_2</span> <span class="o">=</span> <span class="n">caching_chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;Hello there!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sd-card-text">To use this function to store and retrieve LLM responses via semantic similarity, use the
<code class="code highlight python docutils literal highlight-python"><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;semantic&quot;</span></code> argument with an <code class="xref py py-class docutils literal notranslate"><span class="pre">langchain_core.embeddings.Embeddings</span></code> instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langchain.cache</span>

<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">)</span>
<span class="n">embeddings</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">OpenAIEmbeddings</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;text-embedding-3-small&quot;</span><span class="p">)</span>
<span class="n">caching_chat_model</span> <span class="o">=</span> <span class="n">agentc_langchain</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span>
    <span class="n">chat_model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;semantic&quot;</span><span class="p">,</span>
    <span class="n">embeddings</span><span class="o">=</span><span class="n">embeddings</span><span class="p">,</span>
    <span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="c1"># Response #2 is served from the cache.</span>
<span class="n">response_1</span> <span class="o">=</span> <span class="n">caching_chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;Hello there!&quot;</span><span class="p">)</span>
<span class="n">response_2</span> <span class="o">=</span> <span class="n">caching_chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;Hello there!!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sd-card-text">By default, the Couchbase initialization of the cache is separate from the cache's usage (storage and
retrieval).
To explicitly initialize the cache yourself, use the <a class="reference internal" href="#agentc_langchain.cache.initialize" title="agentc_langchain.cache.initialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize()</span></code></a> method.</p>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>This method uses the <code class="docutils literal notranslate"><span class="pre">langchain_couchbase.cache.CouchbaseCache</span></code> and
<code class="docutils literal notranslate"><span class="pre">langchain_couchbase.cache.CouchbaseSemanticCache</span></code> classes from the <code class="docutils literal notranslate"><span class="pre">langchain_couchbase</span></code> package.
See <a class="reference external" href="https://api.python.langchain.com/en/latest/couchbase/cache.html">here</a> for more details.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_model</strong> (<em>BaseChatModel</em>) -- The LangChain chat model to cache responses for.</p></li>
<li><p><strong>kind</strong> (<em>Literal</em><em>[</em><em>'exact'</em><em>, </em><em>'semantic'</em><em>]</em>) -- The type of cache to attach to the chat model.</p></li>
<li><p><strong>embeddings</strong> (<em>Embeddings</em>) -- The embeddings to use when attaching a 'semantic' cache to the chat model.</p></li>
<li><p><strong>options</strong> (<a class="reference internal" href="#agentc_langchain.cache.CacheOptions" title="agentc_langchain.cache.options.CacheOptions"><em>CacheOptions</em></a>) -- The options to use when attaching a cache to the chat model.</p></li>
<li><p><strong>kwargs</strong> -- Keyword arguments to be forwarded to a <a class="reference internal" href="#agentc_langchain.cache.CacheOptions" title="agentc_langchain.cache.CacheOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">CacheOptions</span></code></a> constructor (ignored if options is
present).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same LangChain chat model that was passed in, but with a cache attached.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>BaseChatModel</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentc_langchain.cache.initialize">
<span class="sig-prename descclassname"><span class="pre">agentc_langchain.cache.</span></span><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langchain/cache/cache.html#initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langchain.cache.initialize" title="Link to this definition">¶</a></dt>
<dd><p>A function to create the collections and/or indexes required to use the <a class="reference internal" href="#agentc_langchain.cache.cache" title="agentc_langchain.cache.cache"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cache()</span></code></a> function.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Function Description</div>
<p class="sd-card-text">This function is a helper function for creating the default collection (and index, in the case of
<code class="code highlight python docutils literal highlight-python"><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;semantic&quot;</span></code>) required for the <a class="reference internal" href="#agentc_langchain.cache.cache" title="agentc_langchain.cache.cache"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cache()</span></code></a> function.
Below, we give a minimal working example of how to use this function to create a semantic cache backed by
Couchbase.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langchain.cache</span>

<span class="n">embeddings</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">OpenAIEmbeddings</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;text-embedding-3-small&quot;</span><span class="p">)</span>
<span class="n">agentc_langchain</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;semantic&quot;</span><span class="p">,</span>
    <span class="n">embeddings</span><span class="o">=</span><span class="n">embeddings</span>
<span class="p">)</span>

<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">)</span>
<span class="n">caching_chat_model</span> <span class="o">=</span> <span class="n">agentc_langchain</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span>
    <span class="n">chat_model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;semantic&quot;</span><span class="p">,</span>
    <span class="n">embeddings</span><span class="o">=</span><span class="n">embeddings</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Response #2 is served from the cache.</span>
<span class="n">response_1</span> <span class="o">=</span> <span class="n">caching_chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;Hello there!&quot;</span><span class="p">)</span>
<span class="n">response_2</span> <span class="o">=</span> <span class="n">caching_chat_model</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;Hello there!!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> (<em>Literal</em><em>[</em><em>'exact'</em><em>, </em><em>'semantic'</em><em>]</em>) -- The type of cache to attach to the chat model.</p></li>
<li><p><strong>embeddings</strong> (<em>Embeddings</em>) -- The embeddings to use when attaching a 'semantic' cache to the chat model.</p></li>
<li><p><strong>options</strong> (<a class="reference internal" href="#agentc_langchain.cache.CacheOptions" title="agentc_langchain.cache.options.CacheOptions"><em>CacheOptions</em></a>) -- The options to use when attaching a cache to the chat model.</p></li>
<li><p><strong>kwargs</strong> -- Keyword arguments to be forwarded to a <a class="reference internal" href="#agentc_langchain.cache.CacheOptions" title="agentc_langchain.cache.CacheOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">CacheOptions</span></code></a> constructor (ignored if options is
present).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py class pydantic_settings">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions">
<em class="property"><span class="pre">pydantic</span> <span class="pre">settings</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langchain.cache.</span></span><span class="sig-name descname"><span class="pre">CacheOptions</span></span><a class="reference internal" href="_modules/agentc_langchain/cache/options.html#CacheOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langchain.cache.CacheOptions" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Config<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env_prefix</strong>: <em>str = AGENT_CATALOG_LANGCHAIN_CACHE_</em></p></li>
<li><p><strong>env_file</strong>: <em>str = .env</em></p></li>
</ul>
</dd>
<dt class="field-even">Fields<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">collection</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">conn_root_certificate</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">pathlib.Path</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">conn_string</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_if_not_exists</span> <span class="pre">(bool</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ddl_retry_attempts</span> <span class="pre">(int</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ddl_retry_wait_seconds</span> <span class="pre">(float</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index_name</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">password</span> <span class="pre">(pydantic.types.SecretStr</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">scope</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">score_threshold</span> <span class="pre">(float</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ttl</span> <span class="pre">(datetime.timedelta</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">username</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.bucket">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bucket</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.bucket" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase bucket hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.collection">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'langchain_llm_cache'</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.collection" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase collection hosting the cache.</p>
<p>This field is optional and defaults to <code class="docutils literal notranslate"><span class="pre">langchain_llm_cache</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.conn_root_certificate">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conn_root_certificate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.conn_root_certificate" title="Link to this definition">¶</a></dt>
<dd><p>Path to the root certificate file for the Couchbase cluster.</p>
<p>This field is optional and only required if the Couchbase cluster is using a self-signed certificate.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.conn_string">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conn_string</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.conn_string" title="Link to this definition">¶</a></dt>
<dd><p>The connection string to the Couchbase cluster hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.create_if_not_exists">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_if_not_exists</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.create_if_not_exists" title="Link to this definition">¶</a></dt>
<dd><p>Create the required collections and/or indexes if they do not exist.</p>
<p>When raised (i.e., this value is set to <code class="code highlight python docutils literal highlight-python"><span class="kc">True</span></code>), the collections and indexes will be created if they do not
exist.
Lower this flag (set this to <code class="code highlight python docutils literal highlight-python"><span class="kc">False</span></code>) to instead raise an error if the collections &amp; indexes do not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.ddl_retry_attempts">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ddl_retry_attempts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.ddl_retry_attempts" title="Link to this definition">¶</a></dt>
<dd><p>Maximum number of attempts to retry DDL operations.</p>
<p>This value is only used on setup (i.e., the first time the cache is requested).
If the number of attempts is exceeded, the command will fail.
By default, this value is 3 attempts.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.ddl_retry_wait_seconds">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ddl_retry_wait_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.ddl_retry_wait_seconds" title="Link to this definition">¶</a></dt>
<dd><p>Wait time (in seconds) between DDL operation retries.</p>
<p>This value is only used on setup (i.e., the first time the cache is requested).
By default, this value is 5 seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.index_name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'langchain_llm_cache_index'</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.index_name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase FTS index used to query the cache.</p>
<p>This field will only be used if the cache is of type <cite>semantic</cite>.
If the cache is of type <cite>semantic</cite> and this field is not specified, this field defaults to
<code class="docutils literal notranslate"><span class="pre">langchain_llm_cache_index</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.password">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SecretStr</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.password" title="Link to this definition">¶</a></dt>
<dd><p>Password associated with the Couchbase instance hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.scope">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scope</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'agent_activity'</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.scope" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase scope hosting the cache.</p>
<p>This field is optional and defaults to <code class="docutils literal notranslate"><span class="pre">agent_activity</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.score_threshold">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">score_threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.8</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.score_threshold" title="Link to this definition">¶</a></dt>
<dd><p>The score threshold used to quantify what constitutes as a &quot;good&quot; match.</p>
<p>This field will only be used if the cache is of type <cite>semantic</cite>.
If the cache is of type <cite>semantic</cite> and this field is not specified, this field defaults to 0.8.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.ttl">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ttl</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">timedelta</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.ttl" title="Link to this definition">¶</a></dt>
<dd><p>The time-to-live (TTL) for the cache.</p>
<p>When specified, the cached documents will be automatically removed after the specified duration.
This field is optional and defaults to None.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langchain.cache.CacheOptions.username">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langchain.cache.CacheOptions.username" title="Link to this definition">¶</a></dt>
<dd><p>Username associated with the Couchbase instance hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentc_langgraph.tool">
<span id="langgraph"></span><h3>LangGraph<a class="headerlink" href="#module-agentc_langgraph.tool" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="agentc_langgraph.tool.ToolNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langgraph.tool.</span></span><span class="sig-name descname"><span class="pre">ToolNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">span</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/tool/node.html#ToolNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.tool.ToolNode" title="Link to this definition">¶</a></dt>
<dd><p>A tool node that logs tool results to a span.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">This class will record the results of each tool invocation to the span that is passed to it (ultimately
generating <code class="xref py py-class docutils literal notranslate"><span class="pre">ToolResultContent</span></code> log entries).
This class does <em>not</em> log tool calls (i.e., <code class="xref py py-class docutils literal notranslate"><span class="pre">ToolCallContent</span></code> log entries) as these are typically
logged with <code class="xref py py-class docutils literal notranslate"><span class="pre">ChatCompletionContent</span></code> log entries.</p>
<p class="sd-card-text">Below, we illustrate a minimal working example of how to use this class with
<a class="reference internal" href="#agentc_langchain.chat.Callback" title="agentc_langchain.chat.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langchain.chat.Callback</span></code></a> to record <code class="xref py py-class docutils literal notranslate"><span class="pre">ChatCompletionContent</span></code> log entries,
<code class="xref py py-class docutils literal notranslate"><span class="pre">ToolCallContent</span></code> log entries, and <code class="xref py py-class docutils literal notranslate"><span class="pre">ToolResultContent</span></code> log entries.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.tools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.prebuilt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langchain.chat</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langgraph</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>

<span class="c1"># Create a span to bind to the chat model messages.</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root_span&quot;</span><span class="p">)</span>

<span class="c1"># Create a chat model.</span>
<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># Create a callback with the appropriate span, and attach it to the chat model.</span>
<span class="n">my_agent_span</span> <span class="o">=</span> <span class="n">root_span</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_agent&quot;</span><span class="p">)</span>
<span class="n">callback</span> <span class="o">=</span> <span class="n">agentc_langchain</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">Callback</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="n">my_agent_span</span><span class="p">)</span>
<span class="n">chat_model</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>

<span class="c1"># Grab the correct tools and output from the catalog.</span>
<span class="n">my_agent_prompt</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_agent&quot;</span><span class="p">)</span>
<span class="n">my_agent_tools</span> <span class="o">=</span> <span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">tool</span><span class="o">.</span><span class="n">ToolNode</span><span class="p">(</span>
    <span class="n">span</span><span class="o">=</span><span class="n">my_agent_span</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="p">[</span>
        <span class="n">langchain_core</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">tool</span><span class="p">(</span>
            <span class="n">tool</span><span class="o">.</span><span class="n">func</span><span class="p">,</span>
            <span class="n">args_schema</span><span class="o">=</span><span class="n">tool</span><span class="o">.</span><span class="n">input</span><span class="p">,</span>
        <span class="p">)</span> <span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">my_agent_prompt</span><span class="o">.</span><span class="n">tools</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="n">my_agent_output</span> <span class="o">=</span> <span class="n">my_agent_prompt</span><span class="o">.</span><span class="n">output</span>

<span class="c1"># Finally, build your agent.</span>
<span class="n">my_agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="n">my_agent_tools</span><span class="p">,</span>
    <span class="n">prompt</span><span class="o">=</span><span class="n">my_agent_prompt</span><span class="p">,</span>
    <span class="n">response_format</span><span class="o">=</span><span class="n">my_agent_output</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For all constructor parameters, see the documentation for <code class="xref py py-class docutils literal notranslate"><span class="pre">langgraph.prebuilt.ToolNode</span></code>
<a class="reference external" href="https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.tool_node.ToolNode">here</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>span</strong> (<a class="reference internal" href="#agentc.span.Span" title="agentc_core.activity.span.Span"><em>Span</em></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class" id="module-agentc_langgraph.agent">
<dt class="sig sig-object py" id="agentc_langgraph.agent.ReActAgent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langgraph.agent.</span></span><span class="sig-name descname"><span class="pre">ReActAgent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chat_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">span</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/agent/agent.html#ReActAgent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.agent.ReActAgent" title="Link to this definition">¶</a></dt>
<dd><p>A helper ReAct agent base class that integrates with Agent Catalog.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">This class is meant to handle some of the boilerplate around using Agent Catalog with LangGraph's prebuilt
ReAct agent.
More specifically, this class performs the following:</p>
<ol class="arabic simple">
<li><p class="sd-card-text">Fetches the prompt given the name (<code class="docutils literal notranslate"><span class="pre">prompt_name</span></code>) in the constructor and supplies the prompt and tools
attached to the prompt to the ReAct agent constructor.</p></li>
<li><p class="sd-card-text">Attaches a <a class="reference internal" href="#agentc_langchain.chat.Callback" title="agentc_langchain.chat.Callback"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langchain.chat.Callback</span></code></a> to the given <code class="docutils literal notranslate"><span class="pre">chat_model</span></code> to record all chat-model
related activity (i.e., chat completions and tool calls).</p></li>
<li><p class="sd-card-text">Wraps tools (if present in the prompt) in a <a class="reference internal" href="#agentc_langgraph.tool.ToolNode" title="agentc_langgraph.tool.ToolNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langgraph.tool.ToolNode</span></code></a> instance to record
the results of tool calls.</p></li>
<li><p class="sd-card-text">Wraps the invocation of this agent in a <code class="xref py py-class docutils literal notranslate"><span class="pre">agentc.Span</span></code> context manager.</p></li>
</ol>
<p class="sd-card-text">Below, we illustrate an example Agent Catalog prompt and an implementation of this class for our prompt.
First, our prompt:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">record_kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">prompt</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">endpoint_finding_node</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">All inputs required to assemble the endpoint finding agent.</span>

<span class="nt">output</span><span class="p">:</span>
<span class="w">  </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Endpoints</span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The source and destination airports for a flight / route.</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">object</span>
<span class="w">  </span><span class="nt">properties</span><span class="p">:</span>
<span class="w">    </span><span class="nt">source</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;The</span><span class="nv"> </span><span class="s">IATA</span><span class="nv"> </span><span class="s">code</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">source</span><span class="nv"> </span><span class="s">airport.&quot;</span>
<span class="w">    </span><span class="nt">dest</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;The</span><span class="nv"> </span><span class="s">IATA</span><span class="nv"> </span><span class="s">code</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">destination</span><span class="nv"> </span><span class="s">airport.&quot;</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">source</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">dest</span><span class="p p-Indicator">]</span>

<span class="nt">content</span><span class="p">:</span>
<span class="w">  </span><span class="nt">agent_instructions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">    </span><span class="no">Your task is to find the source and destination airports for a flight.</span>
<span class="w">    </span><span class="no">The user will provide you with the source and destination cities.</span>
<span class="w">    </span><span class="no">You need to find the IATA codes for the source and destination airports.</span>
<span class="w">    </span><span class="no">Another agent will use these IATA codes to find a route between the two airports.</span>
<span class="w">    </span><span class="no">If a route cannot be found, suggest alternate airports (preferring airports that are more likely to have</span>
<span class="w">    </span><span class="no">routes between them).</span>

<span class="w">  </span><span class="nt">output_format_instructions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">    </span><span class="no">Ensure that each IATA code is a string and is capitalized.</span>
</pre></div>
</div>
<p class="sd-card-text">Next, the usage of this prompt in an implementation of this class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.messages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langgraph.agent</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">typing</span>

<span class="k">class</span><span class="w"> </span><span class="nc">State</span><span class="p">(</span><span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">state</span><span class="p">):</span>
    <span class="n">endpoints</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>

<span class="k">class</span><span class="w"> </span><span class="nc">EndpointFindingAgent</span><span class="p">(</span><span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">agent</span><span class="o">.</span><span class="n">ReActAgent</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">catalog</span><span class="p">:</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">,</span> <span class="n">span</span><span class="p">:</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Span</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">chat_models</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">chat_model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
            <span class="n">catalog</span><span class="o">=</span><span class="n">catalog</span><span class="p">,</span>
            <span class="n">span</span><span class="o">=</span><span class="n">span</span><span class="p">,</span>
            <span class="n">prompt_name</span><span class="o">=</span><span class="s2">&quot;endpoint_finding_node&quot;</span><span class="p">,</span>
             <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">span</span><span class="p">:</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Span</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">State</span><span class="p">:</span>
        <span class="c1"># Give the working state to our agent.</span>
        <span class="n">agent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span><span class="n">span</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">agent</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">state</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

        <span class="c1"># &#39;source&#39; and &#39;dest&#39; comes from the prompt&#39;s output format.</span>
        <span class="c1"># Note this is a direct mutation on the &quot;state&quot; given to the Span!</span>
        <span class="n">structured_response</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;structured_response&quot;</span><span class="p">]</span>
        <span class="n">state</span><span class="p">[</span><span class="s2">&quot;endpoints&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">structured_response</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">],</span> <span class="s2">&quot;destination&quot;</span><span class="p">:</span> <span class="n">structured_response</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]}</span>
        <span class="n">state</span><span class="p">[</span><span class="s2">&quot;messages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;messages&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">state</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
    <span class="n">span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root_span&quot;</span><span class="p">)</span>
    <span class="n">my_agent</span> <span class="o">=</span> <span class="n">EndpointFindingAgent</span><span class="p">(</span><span class="n">catalog</span><span class="o">=</span><span class="n">catalog</span><span class="p">,</span> <span class="n">span</span><span class="o">=</span><span class="n">span</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For all constructor parameters, see the documentation for <code class="xref py py-class docutils literal notranslate"><span class="pre">langgraph.prebuilt.create_react_agent</span></code>
<a class="reference external" href="https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent">here</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_model</strong> (<em>BaseChatModel</em>)</p></li>
<li><p><strong>catalog</strong> (<a class="reference internal" href="#agentc.catalog.Catalog" title="agentc_core.catalog.catalog.Catalog"><em>Catalog</em></a>)</p></li>
<li><p><strong>span</strong> (<a class="reference internal" href="#agentc.span.Span" title="agentc_core.activity.span.Span"><em>Span</em></a>)</p></li>
<li><p><strong>prompt_name</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="agentc_langgraph.agent.ReActAgent.ainvoke">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ainvoke</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/agent/agent.html#ReActAgent.ainvoke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.agent.ReActAgent.ainvoke" title="Link to this definition">¶</a></dt>
<dd><p>Default implementation of ainvoke, calls invoke from a thread.</p>
<p>The default implementation allows usage of async code even if
the Runnable did not implement a native async version of invoke.</p>
<p>Subclasses should override this method if they can run asynchronously.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="#agentc_langgraph.agent.State" title="agentc_langgraph.agent.agent.State"><em>State</em></a>)</p></li>
<li><p><strong>config</strong> (<em>RunnableConfig</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#agentc_langgraph.agent.State" title="agentc_langgraph.agent.agent.State"><em>State</em></a> | <em>Command</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentc_langgraph.agent.ReActAgent.invoke">
<span class="sig-name descname"><span class="pre">invoke</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/agent/agent.html#ReActAgent.invoke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.agent.ReActAgent.invoke" title="Link to this definition">¶</a></dt>
<dd><p>Transform a single input into an output.</p>
<dl>
<dt>Args:</dt><dd><p>input: The input to the Runnable.
config: A config to use when invoking the Runnable.</p>
<blockquote>
<div><p>The config supports standard keys like <code class="docutils literal notranslate"><span class="pre">'tags'</span></code>, <code class="docutils literal notranslate"><span class="pre">'metadata'</span></code> for
tracing purposes, <code class="docutils literal notranslate"><span class="pre">'max_concurrency'</span></code> for controlling how much work to
do in parallel, and other keys. Please refer to the RunnableConfig
for more details. Defaults to None.</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>The output of the Runnable.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="#agentc_langgraph.agent.State" title="agentc_langgraph.agent.agent.State"><em>State</em></a>)</p></li>
<li><p><strong>config</strong> (<em>RunnableConfig</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#agentc_langgraph.agent.State" title="agentc_langgraph.agent.agent.State"><em>State</em></a> | <em>Command</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentc_langgraph.agent.ReActAgent.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langgraph.agent.ReActAgent.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Runnable. Used for debugging and tracing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentc_langgraph.agent.State">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langgraph.agent.</span></span><span class="sig-name descname"><span class="pre">State</span></span><a class="reference internal" href="_modules/agentc_langgraph/agent/agent.html#State"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.agent.State" title="Link to this definition">¶</a></dt>
<dd><p>An (optional) state class for use with Agent Catalog's LangGraph helper classes.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">The primary use for this class to help <a class="reference internal" href="#agentc_langgraph.agent.ReActAgent" title="agentc_langgraph.agent.ReActAgent"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langgraph.agent.ReActAgent</span></code></a> instances build
<code class="xref py py-class docutils literal notranslate"><span class="pre">agentc.span.EdgeContent</span></code> logs.
This class is essentially identical to the default state schema for LangGraph (i.e.,
<code class="docutils literal notranslate"><span class="pre">messages</span></code> and <code class="docutils literal notranslate"><span class="pre">is_last_step</span></code>) <em>but</em> with the inclusion of a new <code class="docutils literal notranslate"><span class="pre">previous_node</span></code> field.</p>
</div>
</div>
</dd></dl>

<dl class="py class" id="module-agentc_langgraph.graph">
<dt class="sig sig-object py" id="agentc_langgraph.graph.GraphRunnable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langgraph.graph.</span></span><span class="sig-name descname"><span class="pre">GraphRunnable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">span</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/graph/graph.html#GraphRunnable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.graph.GraphRunnable" title="Link to this definition">¶</a></dt>
<dd><p>A helper class that wraps the &quot;Runnable&quot; interface with <code class="xref py py-class docutils literal notranslate"><span class="pre">agentc.Span</span></code>.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">This class is meant to handle some of the boilerplate around using <code class="xref py py-class docutils literal notranslate"><span class="pre">agentc.Span</span></code> instances and
LangGraph compiled graphs.
Specifically, this class builds a new span on instantiation and wraps all <code class="docutils literal notranslate"><span class="pre">Runnable</span></code> methods in a Span's
context manager.</p>
<p class="sd-card-text">Below, we illustrate an example implementation of this class for a two-agent system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.prebuilt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.graph</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.messages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langgraph</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">typing</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyResearcherApp</span><span class="p">(</span><span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">GraphRunnable</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">search_web</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">str</span><span class="p">:</span> <span class="n">search_string</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">summarize_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">str</span><span class="p">:</span> <span class="n">content</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">research_agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">langchain_openai</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">),</span>
            <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">search_web</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">summary_agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">langchain_openai</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">),</span>
            <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">summarize_results</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">workflow</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">StateGraph</span><span class="p">(</span><span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">State</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;research_agent&quot;</span><span class="p">,</span> <span class="n">research_agent</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;summary_agent&quot;</span><span class="p">,</span> <span class="n">summary_agent</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;research_agent&quot;</span><span class="p">,</span> <span class="s2">&quot;summary_agent&quot;</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;summary_agent&quot;</span><span class="p">,</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">set_entry_point</span><span class="p">(</span><span class="s2">&quot;research_agent&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">workflow</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">MyResearchState</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[],</span> <span class="n">is_last_step</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">MyResearcherApp</span><span class="p">(</span><span class="n">catalog</span><span class="o">=</span><span class="n">catalog</span><span class="p">)</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="sd-card-text">For more information around LangGraph's (LangChain's) <code class="docutils literal notranslate"><span class="pre">Runnable</span></code> interface, see LangChain's documentation
<a class="reference external" href="https://python.langchain.com/api_reference/core/runnables/langchain_core.runnables.base.Runnable.html">here</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p class="sd-card-text">The example above does not use tools and prompts managed by Agent Catalog.
See <a class="reference internal" href="#agentc_langgraph.agent.ReActAgent" title="agentc_langgraph.agent.ReActAgent"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langgraph.agent.ReActAgent</span></code></a> for a helper class that handles some of the boilerplate
around using LangGraph's prebuilt ReAct agent and Agent Catalog.</p>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>catalog</strong> (<a class="reference internal" href="#agentc.catalog.Catalog" title="agentc_core.catalog.catalog.Catalog"><em>Catalog</em></a>)</p></li>
<li><p><strong>span</strong> (<a class="reference internal" href="#agentc.span.Span" title="agentc_core.activity.span.Span"><em>Span</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class" id="module-agentc_langgraph.state">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointSaver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langgraph.state.</span></span><span class="sig-name descname"><span class="pre">CheckpointSaver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/state/checkpoint.html#CheckpointSaver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.state.CheckpointSaver" title="Link to this definition">¶</a></dt>
<dd><p>Checkpoint saver class to persist LangGraph states in a Couchbase instance.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">Instances of this class are used by LangGraph (passed in during <code class="xref py py-meth docutils literal notranslate"><span class="pre">compile()</span></code> time)
to save checkpoints of agent state.</p>
<p class="sd-card-text">Below, we give a minimal working example of how to use this class with LangGraph's prebuilt ReAct agent.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.prebuilt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langgraph.state</span>

<span class="c1"># Pass our checkpoint saver to the create_react_agent method.</span>
<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">)</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="nb">list</span><span class="p">(),</span>
    <span class="n">checkpointer</span><span class="o">=</span><span class="n">CheckpointSaver</span><span class="p">(</span><span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;configurable&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}}</span>
<span class="n">agent</span><span class="o">.</span><span class="n">invoke</span><span class="p">({</span><span class="s2">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;human&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello!)]}, config)</span>
</pre></div>
</div>
<p class="sd-card-text">To use this method with Agent Catalog's <a class="reference internal" href="#agentc_langgraph.graph.GraphRunnable" title="agentc_langgraph.graph.GraphRunnable"><code class="xref py py-class docutils literal notranslate"><span class="pre">agentc_langgraph.graph.GraphRunnable</span></code></a> class, pass the
checkpoint saver to your workflow's <code class="docutils literal notranslate"><span class="pre">compile()</span></code> method (see the documentation for LangGraph's
<code class="docutils literal notranslate"><span class="pre">Graph.compile()</span></code> method <a class="reference external" href="https://langchain-ai.github.io/langgraph/reference/graphs/#langgraph.graph.graph.Graph.compile">here</a>
for more information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.prebuilt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.graph</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langchain_core.messages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langgraph</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">typing</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyResearcherApp</span><span class="p">(</span><span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">GraphRunnable</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">search_web</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">str</span><span class="p">:</span> <span class="n">search_string</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">summarize_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">str</span><span class="p">:</span> <span class="n">content</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">research_agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">langchain_openai</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">),</span>
            <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">search_web</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">summary_agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">langchain_openai</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">),</span>
            <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">summarize_results</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">workflow</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">StateGraph</span><span class="p">(</span><span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">State</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;research_agent&quot;</span><span class="p">,</span> <span class="n">research_agent</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;summary_agent&quot;</span><span class="p">,</span> <span class="n">summary_agent</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;research_agent&quot;</span><span class="p">,</span> <span class="s2">&quot;summary_agent&quot;</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s2">&quot;summary_agent&quot;</span><span class="p">,</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
        <span class="n">workflow</span><span class="o">.</span><span class="n">set_entry_point</span><span class="p">(</span><span class="s2">&quot;research_agent&quot;</span><span class="p">)</span>
        <span class="n">checkpointer</span> <span class="o">=</span> <span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">CheckpointSaver</span><span class="p">(</span><span class="n">create_if_not_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">workflow</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">checkpointer</span><span class="o">=</span><span class="n">checkpointer</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p class="sd-card-text">See <a class="reference external" href="https://langchain-ai.github.io/langgraph/concepts/persistence/#checkpoints">here</a> for more
information about checkpoints in LangGraph.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p class="sd-card-text">This class is a wrapper around the <code class="docutils literal notranslate"><span class="pre">langgraph_checkpointer_couchbase.CouchbaseSaver</span></code> class.
See <a class="reference external" href="https://pypi.org/project/langgraph-checkpointer-couchbase/">here</a> for more information.</p>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> (<a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions" title="agentc_langgraph.state.options.CheckpointOptions"><em>CheckpointOptions</em></a>)</p></li>
<li><p><strong>serde</strong> (<em>SerializerProtocol</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentc_langgraph.state.initialize">
<span class="sig-prename descclassname"><span class="pre">agentc_langgraph.state.</span></span><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_langgraph/state/checkpoint.html#initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.state.initialize" title="Link to this definition">¶</a></dt>
<dd><p>A function to create the collections required to use the checkpoint savers in this module.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Function Description</div>
<p class="sd-card-text">This function is a helper function for creating the default collections (the thread and tuple collections)
required for the <a class="reference internal" href="#agentc_langgraph.state.CheckpointSaver" title="agentc_langgraph.state.CheckpointSaver"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckpointSaver</span></code></a> and :py:class`AsyncCheckpointSaver` classes.
Below, we give a minimal working example of how to use this function to create these collections.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">langchain_openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">langgraph.prebuilt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">agentc_langgraph.state</span>

<span class="c1"># Initialize our collections.</span>
<span class="n">agentc_langgraph</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>

<span class="c1"># Pass our checkpoint saver to the create_react_agent method.</span>
<span class="n">chat_model</span> <span class="o">=</span> <span class="n">langchain_openai</span><span class="o">.</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">)</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">langgraph</span><span class="o">.</span><span class="n">prebuilt</span><span class="o">.</span><span class="n">create_react_agent</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">chat_model</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="nb">list</span><span class="p">(),</span>
    <span class="n">checkpointer</span><span class="o">=</span><span class="n">CheckpointSaver</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;configurable&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}}</span>
<span class="n">agent</span><span class="o">.</span><span class="n">invoke</span><span class="p">({</span><span class="s2">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;human&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello there!&quot;</span><span class="p">)]},</span> <span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> (<a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions" title="agentc_langgraph.state.options.CheckpointOptions"><em>CheckpointOptions</em></a>) -- The options to use when saving checkpoints to Couchbase.</p></li>
<li><p><strong>kwargs</strong> -- Keyword arguments to be forwarded to a <a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions" title="agentc_langgraph.state.CheckpointOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckpointOptions</span></code></a> constructor (ignored if
options is present).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py class pydantic_settings">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions">
<em class="property"><span class="pre">pydantic</span> <span class="pre">settings</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_langgraph.state.</span></span><span class="sig-name descname"><span class="pre">CheckpointOptions</span></span><a class="reference internal" href="_modules/agentc_langgraph/state/options.html#CheckpointOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Config<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extra</strong>: <em>str = allow</em></p></li>
<li><p><strong>env_prefix</strong>: <em>str = AGENT_CATALOG_LANGGRAPH_CHECKPOINT_</em></p></li>
<li><p><strong>env_file</strong>: <em>str = .env</em></p></li>
</ul>
</dd>
<dt class="field-even">Fields<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">checkpoint_collection</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">conn_root_certificate</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">pathlib.Path</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">conn_string</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_if_not_exists</span> <span class="pre">(bool</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ddl_retry_attempts</span> <span class="pre">(int</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ddl_retry_wait_seconds</span> <span class="pre">(float</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">password</span> <span class="pre">(pydantic.types.SecretStr</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">scope</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple_collection</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">username</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.bucket">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bucket</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.bucket" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase bucket hosting the checkpoints.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.checkpoint_collection">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">checkpoint_collection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'langgraph_checkpoint_thread'</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.checkpoint_collection" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase collection hosting the checkpoints threads.</p>
<p>This field is optional and defaults to <code class="docutils literal notranslate"><span class="pre">langgraph_checkpoint_thread</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.conn_root_certificate">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conn_root_certificate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.conn_root_certificate" title="Link to this definition">¶</a></dt>
<dd><p>Path to the root certificate file for the Couchbase cluster.</p>
<p>This field is optional and only required if the Couchbase cluster is using a self-signed certificate.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.conn_string">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conn_string</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.conn_string" title="Link to this definition">¶</a></dt>
<dd><p>The connection string to the Couchbase cluster hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.create_if_not_exists">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_if_not_exists</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.create_if_not_exists" title="Link to this definition">¶</a></dt>
<dd><p>Create the required collections if they do not exist.</p>
<p>When raised (i.e., this value is set to <code class="code highlight python docutils literal highlight-python"><span class="kc">True</span></code>), the collections will be created if they do not exist.
Lower this flag (set this to <code class="code highlight python docutils literal highlight-python"><span class="kc">False</span></code>) to instead raise an error if the collections do not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.ddl_retry_attempts">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ddl_retry_attempts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.ddl_retry_attempts" title="Link to this definition">¶</a></dt>
<dd><p>Maximum number of attempts to retry DDL operations.</p>
<p>This value is only used on setup (i.e., the first time the checkpointer is requested).
If the number of attempts is exceeded, the command will fail.
By default, this value is 3 attempts.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.ddl_retry_wait_seconds">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ddl_retry_wait_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.ddl_retry_wait_seconds" title="Link to this definition">¶</a></dt>
<dd><p>Wait time (in seconds) between DDL operation retries.</p>
<p>This value is only used on setup (i.e., the first time the checkpointer is requested).
By default, this value is 5 seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.password">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SecretStr</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.password" title="Link to this definition">¶</a></dt>
<dd><p>Password associated with the Couchbase instance hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.scope">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scope</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'agent_activity'</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.scope" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase scope hosting the checkpoints.</p>
<p>This field is optional and defaults to <code class="docutils literal notranslate"><span class="pre">agent_activity</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.tuple_collection">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tuple_collection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'langgraph_checkpoint_tuple'</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.tuple_collection" title="Link to this definition">¶</a></dt>
<dd><p>The name of the Couchbase collection hosting the checkpoints tuples.</p>
<p>This field is optional and defaults to <code class="docutils literal notranslate"><span class="pre">langgraph_checkpoint_tuple</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="agentc_langgraph.state.CheckpointOptions.username">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#agentc_langgraph.state.CheckpointOptions.username" title="Link to this definition">¶</a></dt>
<dd><p>Username associated with the Couchbase instance hosting the cache.</p>
<p>This field <strong>must</strong> be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_pull_cluster_from_agent_catalog</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentc_llamaindex.chat">
<span id="llamaindex"></span><h3>LlamaIndex<a class="headerlink" href="#module-agentc_llamaindex.chat" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="agentc_llamaindex.chat.Callback">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentc_llamaindex.chat.</span></span><span class="sig-name descname"><span class="pre">Callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">span</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_starts_to_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_ends_to_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentc_llamaindex/chat/chat.html#Callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentc_llamaindex.chat.Callback" title="Link to this definition">¶</a></dt>
<dd><p>All callback that will log all LlamaIndex events using the given span as the root.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Class Description</div>
<p class="sd-card-text">This class is a callback handler that will log <code class="xref py py-class docutils literal notranslate"><span class="pre">ChatCompletionContent</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ToolCallContent</span></code>,
and <code class="xref py py-class docutils literal notranslate"><span class="pre">ToolResultContent</span></code> using events yielded from LlamaIndex (with the given span as the root).
Below, we provide an example of how to use this class.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">agentc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">llama_index.core.llms</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">llama_index.llms.openai</span>

<span class="n">catalog</span> <span class="o">=</span> <span class="n">agentc</span><span class="o">.</span><span class="n">Catalog</span><span class="p">()</span>
<span class="n">root_span</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;root_span&quot;</span><span class="p">)</span>
<span class="n">my_prompt</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;talk_like_a_pirate&quot;</span><span class="p">)</span>
<span class="n">chat_model</span> <span class="o">=</span> <span class="n">llama_index</span><span class="o">.</span><span class="n">llms</span><span class="o">.</span><span class="n">openai</span><span class="o">.</span><span class="n">OpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">)</span>
<span class="n">chat_model</span><span class="o">.</span><span class="n">callback_manager</span><span class="o">.</span><span class="n">add_handler</span><span class="p">(</span><span class="n">Callback</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="n">span</span><span class="p">))</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">chat_model</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">llama_index</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">llms</span><span class="o">.</span><span class="n">ChatMessage</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">my_prompt</span><span class="o">.</span><span class="n">content</span><span class="p">),</span>
        <span class="n">llama_index</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">llms</span><span class="o">.</span><span class="n">ChatMessage</span><span class="p">(</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;What is your name&quot;</span><span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>span</strong> (<a class="reference internal" href="#agentc.span.Span" title="agentc_core.activity.span.Span"><em>Span</em></a>)</p></li>
<li><p><strong>event_starts_to_ignore</strong> (<em>list</em><em>[</em><em>CBEventType</em><em>]</em>)</p></li>
<li><p><strong>event_ends_to_ignore</strong> (<em>list</em><em>[</em><em>CBEventType</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
        <div id="show_right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&lt;</span><span>Page contents</span></a></p>
        </div>

        <div id="right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&gt;</span><span>Page contents:</span></a></p>
            <div class="page_toc">
                <ul>
<li><a class="reference internal" href="#">Package Documentation</a><ul>
<li><a class="reference internal" href="#agentc-package"><cite>agentc</cite> Package</a><ul>
<li><a class="reference internal" href="#agentc.catalog.Catalog"><code class="docutils literal notranslate"><span class="pre">Catalog</span></code></a><ul>
<li><a class="reference internal" href="#agentc.catalog.Catalog.Span"><code class="docutils literal notranslate"><span class="pre">Catalog.Span()</span></code></a></li>
<li><a class="reference internal" href="#agentc.catalog.Catalog.find"><code class="docutils literal notranslate"><span class="pre">Catalog.find()</span></code></a></li>
<li><a class="reference internal" href="#agentc.catalog.Catalog.find_prompts"><code class="docutils literal notranslate"><span class="pre">Catalog.find_prompts()</span></code></a></li>
<li><a class="reference internal" href="#agentc.catalog.Catalog.find_tools"><code class="docutils literal notranslate"><span class="pre">Catalog.find_tools()</span></code></a></li>
<li><a class="reference internal" href="#agentc.catalog.Catalog.version"><code class="docutils literal notranslate"><span class="pre">Catalog.version</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentc.span.Span"><code class="docutils literal notranslate"><span class="pre">Span</span></code></a><ul>
<li><a class="reference internal" href="#agentc.span.Span.blacklist"><code class="docutils literal notranslate"><span class="pre">Span.blacklist</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.iterable"><code class="docutils literal notranslate"><span class="pre">Span.iterable</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.kwargs"><code class="docutils literal notranslate"><span class="pre">Span.kwargs</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.name"><code class="docutils literal notranslate"><span class="pre">Span.name</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.parent"><code class="docutils literal notranslate"><span class="pre">Span.parent</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.state"><code class="docutils literal notranslate"><span class="pre">Span.state</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.Identifier"><code class="docutils literal notranslate"><span class="pre">Span.Identifier</span></code></a><ul>
<li><a class="reference internal" href="#agentc.span.Span.Identifier.name"><code class="docutils literal notranslate"><span class="pre">Span.Identifier.name</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.Identifier.session"><code class="docutils literal notranslate"><span class="pre">Span.Identifier.session</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentc.span.Span.enter"><code class="docutils literal notranslate"><span class="pre">Span.enter()</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.exit"><code class="docutils literal notranslate"><span class="pre">Span.exit()</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.log"><code class="docutils literal notranslate"><span class="pre">Span.log()</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.logs"><code class="docutils literal notranslate"><span class="pre">Span.logs()</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.new"><code class="docutils literal notranslate"><span class="pre">Span.new()</span></code></a></li>
<li><a class="reference internal" href="#agentc.span.Span.identifier"><code class="docutils literal notranslate"><span class="pre">Span.identifier</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#integration-packages">Integration Packages</a><ul>
<li><a class="reference internal" href="#langchain">LangChain</a><ul>
<li><a class="reference internal" href="#agentc_langchain.chat.Callback"><code class="docutils literal notranslate"><span class="pre">Callback</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.cache"><code class="docutils literal notranslate"><span class="pre">cache()</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.initialize"><code class="docutils literal notranslate"><span class="pre">initialize()</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions"><code class="docutils literal notranslate"><span class="pre">CacheOptions</span></code></a><ul>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.bucket"><code class="docutils literal notranslate"><span class="pre">CacheOptions.bucket</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.collection"><code class="docutils literal notranslate"><span class="pre">CacheOptions.collection</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.conn_root_certificate"><code class="docutils literal notranslate"><span class="pre">CacheOptions.conn_root_certificate</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.conn_string"><code class="docutils literal notranslate"><span class="pre">CacheOptions.conn_string</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.create_if_not_exists"><code class="docutils literal notranslate"><span class="pre">CacheOptions.create_if_not_exists</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.ddl_retry_attempts"><code class="docutils literal notranslate"><span class="pre">CacheOptions.ddl_retry_attempts</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.ddl_retry_wait_seconds"><code class="docutils literal notranslate"><span class="pre">CacheOptions.ddl_retry_wait_seconds</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.index_name"><code class="docutils literal notranslate"><span class="pre">CacheOptions.index_name</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.password"><code class="docutils literal notranslate"><span class="pre">CacheOptions.password</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.scope"><code class="docutils literal notranslate"><span class="pre">CacheOptions.scope</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.score_threshold"><code class="docutils literal notranslate"><span class="pre">CacheOptions.score_threshold</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.ttl"><code class="docutils literal notranslate"><span class="pre">CacheOptions.ttl</span></code></a></li>
<li><a class="reference internal" href="#agentc_langchain.cache.CacheOptions.username"><code class="docutils literal notranslate"><span class="pre">CacheOptions.username</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-agentc_langgraph.tool">LangGraph</a><ul>
<li><a class="reference internal" href="#agentc_langgraph.tool.ToolNode"><code class="docutils literal notranslate"><span class="pre">ToolNode</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.agent.ReActAgent"><code class="docutils literal notranslate"><span class="pre">ReActAgent</span></code></a><ul>
<li><a class="reference internal" href="#agentc_langgraph.agent.ReActAgent.ainvoke"><code class="docutils literal notranslate"><span class="pre">ReActAgent.ainvoke()</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.agent.ReActAgent.invoke"><code class="docutils literal notranslate"><span class="pre">ReActAgent.invoke()</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.agent.ReActAgent.name"><code class="docutils literal notranslate"><span class="pre">ReActAgent.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#agentc_langgraph.agent.State"><code class="docutils literal notranslate"><span class="pre">State</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.graph.GraphRunnable"><code class="docutils literal notranslate"><span class="pre">GraphRunnable</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointSaver"><code class="docutils literal notranslate"><span class="pre">CheckpointSaver</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.initialize"><code class="docutils literal notranslate"><span class="pre">initialize()</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions</span></code></a><ul>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.bucket"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.bucket</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.checkpoint_collection"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.checkpoint_collection</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.conn_root_certificate"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.conn_root_certificate</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.conn_string"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.conn_string</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.create_if_not_exists"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.create_if_not_exists</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.ddl_retry_attempts"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.ddl_retry_attempts</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.ddl_retry_wait_seconds"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.ddl_retry_wait_seconds</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.password"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.password</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.scope"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.scope</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.tuple_collection"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.tuple_collection</span></code></a></li>
<li><a class="reference internal" href="#agentc_langgraph.state.CheckpointOptions.username"><code class="docutils literal notranslate"><span class="pre">CheckpointOptions.username</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-agentc_llamaindex.chat">LlamaIndex</a><ul>
<li><a class="reference internal" href="#agentc_llamaindex.chat.Callback"><code class="docutils literal notranslate"><span class="pre">Callback</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
    

      <div class="clearer"></div>
    </div>
    <div class="button_nav_wrapper">
        <div class="button_nav">
            <div class="left">
                
                <a href="cli.html">
                    <span class="icon">&lt;</span><span><code class="docutils literal notranslate"><span class="pre">agentc</span></code> Command Documentation</span></a>
                
            </div>

            <div class="right">
                
                    <a href="catalog.html"><span>Agent Catalog Record Entries</span><span class="icon">&gt;</span></a>
                
            </div>
        </div>
    </div>


    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Couchbase.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>

<p id="theme_credit">Styled using the <a href="https://github.com/piccolo-orm/piccolo_theme">Piccolo Theme</a></p>
  </body>
</html>